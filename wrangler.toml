name = "japan-quick"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[assets]
directory = "public"

[browser]
binding = "BROWSER"

[[kv_namespaces]]
binding = "NEWS_CACHE"
id = "d0ff786e95f146e9a0686c3c35654bbb"
preview_id = "17dcdbf7e06e4b88a955ac69631808e7"

[[d1_databases]]
binding = "DB"
database_name = "japan-quick-db"
database_id = "f1417a4f-09de-4ae4-94fe-653ed953c0a6"

[vars]
ADMIN_USERNAME = "admin"
ADMIN_PASSWORD = "GvkP525fTX0ocMTw8XtAqM9ECvNIx50v"

# Workflow bindings
[[workflows]]
name = "news-scraper-workflow"
binding = "NEWS_SCRAPER_WORKFLOW"
class_name = "NewsScraperWorkflow"

[[workflows]]
name = "scheduled-refresh-workflow"
binding = "SCHEDULED_REFRESH_WORKFLOW"
class_name = "ScheduledNewsRefreshWorkflow"

[[workflows]]
name = "article-scraper-workflow"
binding = "ARTICLE_SCRAPER_WORKFLOW"
class_name = "ArticleScraperWorkflow"

[[workflows]]
name = "article-rescrape-workflow"
binding = "ARTICLE_RESCRAPE_WORKFLOW"
class_name = "ArticleRescrapeWorkflow"

[[workflows]]
name = "video-selection-workflow"
binding = "VIDEO_SELECTION_WORKFLOW"
class_name = "VideoSelectionWorkflow"

# Cron triggers for scheduled news refresh (every 30 minutes)
# [triggers]
# crons = ["*/30 * * * *"]
